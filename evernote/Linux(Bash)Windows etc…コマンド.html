<html>
<head>
  <title>Evernote Export</title>
  <basefont face="メイリオ" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308919 (ja-JP, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: メイリオ;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="5455"/>

<div>
<span><div><div><div><span style="font-size: 10pt; font-weight: bold; text-decoration: underline;">■Windowsコマンド</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;">Dドライブに移動する</span></div><div><span style="font-size: 10pt;">C:\&gt; D:</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># tドライブとしてsambaでマウント</span></div><div><span style="font-size: 10pt;">net use t: /del</span></div><div><span style="font-size: 10pt;">rem net use t: \\samba01\tmp10014 /u:astellas\tmp10014 yokoi10011 /persistent:no # コメントアウト</span></div><div><span style="font-size: 10pt;">net use t: \\samba01\aaa00162 /u:astellas\aaa00162 yokoi0011 /persistent:no</span></div><div><span style="font-size: 10pt;">pause</span></div><div><span style="font-size: 10pt;"><br/></span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;"># windowsのシンボリックリンク</span></span></div><div><span style="font-weight: bold;"># iPhone、iPadのバックアップ先ドライブを変更</span></div><div>mklink /d &quot;C:\Users\shingo\AppData\Roaming\Apple Computer\MobileSync\Backup&quot; &quot;D:\iOSBackup&quot;</div><div>mklink /d &quot;C:\Users\81908\AppData\Roaming\Apple Computer\MobileSync\Backup&quot; &quot;D:\iOSBackup&quot;</div><div><br/></div><div><span style="font-weight: bold;"># batファイルの改行(^)</span></div><div>call python ^</div><div>tmp.py</div><div><br/></div><div><span style="font-weight: bold;"># batファイルの変数(%***%)</span></div><div>set HENSU=AIUEO </div><div>echo %HENSU%</div><div><br/></div><div><b># ファイル検索（-sで再帰検索）</b></div><div>dir -s 1332_2006-06-06_2006-09-27.png</div><div><br/></div><hr/><div><span style="font-weight: bold; text-decoration: underline;">■Gitコマンド</span></div><div><br/></div><div>プッシュ：ローカルの内容をサーバーのリポジトリに同期させる</div><div>プル：サーバーのリポジトリの新しい差分をローカルに同期させる</div><div>$ git state # ローカルとリポジトリの差分確認コマンド</div><div>$ git add tmp.py #リポジトリに追加宣言（=ステージ状態にする）（コミット+pushしないとリポジトリには追加されない）</div><div>$ git remove tmp.py # ステージ状態取り消し</div><div>$ git commit -m &quot;コミットするコメント&quot; # ステージ状態のファイルコミット</div><div>$ git push origin master # masterブランチにコミット内容プッシュ</div><div>$ git pull origin master # masterブランチの内容プル</div><div>$ git log # リポジトリの更新内容表示</div><div>$ git checkout &lt;git logで確認できるコミット番号&gt; # 切り戻し。指定したコミット番号の状態にソースコード戻す</div><div>$ git diff tmp.py # 指定ファイルのリポジトリとローカルの差分表示</div><div><br/></div><hr/><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold; text-decoration: underline;">■L</span><span style="font-size: 10pt; font-weight: bold; text-decoration: underline;">inuxコマンド</span></font></div><div><br clear="none"/></div><div><span style="font-size: 10pt; font-weight: bold;"># シバン</span></div><div><span style="font-size: 10pt;">#!/bin/bash</span></div><div><span style="font-size: 10pt;">PWDDIR=`pwd`</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># GPUメモリ確認</span></div><div><span style="font-size: 10pt;">nvidia-smi -l 5</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># プロセス動いてるか確認</span></div><div><span style="font-size: 10pt;">ps aux|grep aaa00162|grep python</span></div><div><span style="font-size: 10pt;">ps f -o user,pgrp,pid,pcpu,pmem,start,time,command -p `lsof -n -w -t /dev/nvidia*` # より詳細確認（PIDがプロセス番号）</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># プロセス番号指定してプロセス削除</span></div><div><span style="font-size: 10pt;">kill 4402</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 1 行目を消す</span></div><div><span style="font-size: 10pt;">sed -e '1d' /etc/hosts</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt; font-weight: bold;"># 1行目にヘッダー追加</span></div><div><span style="font-size: 10pt;">sed -i -e &quot;1i samplename\tsampleinfo&quot; temp.txt</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># シェルスクリプトの引数をCASEで制御する方法</span></div><div><span style="font-size: 10pt;"># $ tmp.sh a b c とかいける</span></div><div><span style="font-size: 10pt;">#!/bin/bash</span></div><div><span style="font-size: 10pt;">if [ $# -ne 3 ]</span></div><div><span style="font-size: 10pt;">then</span></div><div><span style="font-size: 10pt;">    echo &quot;${BASH_SOURCE} INPUT OUTPUT OPTION&quot;;</span></div><div><span style="font-size: 10pt;">    echo &quot;&quot;;</span></div><div><span style="font-size: 10pt;">    exit 1</span></div><div><span style="font-size: 10pt;">fi</span></div><div><br/></div><div><span style="font-size: 10pt;">case $3 in</span></div><div><span style="font-size: 10pt;">&quot;a&quot;)</span></div><div><span style="font-size: 10pt;">    echo &quot;$1 $2 $3&quot;;;</span></div><div><span style="font-size: 10pt;">*)</span></div><div><span style="font-size: 10pt;">    echo &quot;${BASH_SOURCE} INPUT OUTPUT OPTION&quot;;</span></div><div><span style="font-size: 10pt;">    echo &quot;&quot;;</span></div><div><span style="font-size: 10pt;">    echo &quot;&quot;;;</span></div><div><span style="font-size: 10pt;">esac</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 変数置換（指定文字全件する）</span></div><div><span style="font-size: 10pt;">${変数名//置換前文字列/置換後文字列}</span></div><div><br clear="none"/></div><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;"># bashで処理時間計測（</span><span style="font-size: 10pt; font-weight: bold;">bashの特殊変数の1つであるSECONDS。bashが起動されてからの秒数が取得でき、任意のタイミングで代入によってリセットすることができる</span><span style="font-size: 10pt; font-weight: bold;">）</span></font></div><div><span style="font-size: 10pt;">#!/bin/bash</span></div><div><span style="font-size: 10pt;">SECONDS=0</span></div><div><span style="font-size: 10pt;">### 時間測定したい処理</span></div><div><span style="font-size: 10pt;">sleep 3</span></div><div><span style="font-size: 10pt;">time=$SECONDS</span></div><div><span style="font-size: 10pt;">echo $time</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 大量コピー</span></div><div><span style="font-size: 10pt;">find . -name &quot;*.jpg&quot; -print | xargs -i cp {} ${PWDDIR}/data_030Degree_CV1</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># </span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(0, 0, 0); font-family: メイリオ; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">DIR_B1 ディレクトリ内で、ディレクトリのみ(</span><span style="font-size: 10pt; font-weight: bold;">-type d</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(0, 0, 0); font-family: メイリオ; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">)で、名前が</span><span style="font-size: 10pt; font-weight: bold;">&quot;*Batch*IMA*&quot;のフルパス検索</span></div><div><span style="font-size: 10pt;">find ${DIR_B1} -type d -name &quot;*Batch*IMA*&quot;</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># コマンド結果を配列に格納</span></div><div><span style="font-size: 10pt;">array=(`find ${DIR_B1} -type d -name &quot;*Batch*IMA*&quot; | sort`)</span></div><div><span style="font-size: 10pt;">echo ${array[@]} # 配列の全要素表示</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 配列の変数マージ</span></div><div><span style="font-size: 10pt;">merge_array=(${array1[*]} ${array2[*]} ${array3[*]} ${array4[*]})</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># ローカル変数</span></div><div><span style="font-size: 10pt;">#!/bin/bash</span></div><div><span style="font-size: 10pt;">function foo() {</span></div><div><span style="font-size: 10pt;">    local hoge # 一度 local と宣言したら</span></div><div><span style="font-size: 10pt;">    hoge=&quot;foo&quot; # global っぽく代入しても local として扱われる</span></div><div><span style="font-size: 10pt;">}</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># ファイル名検索して削除</span></div><div><span style="font-size: 10pt;">find ./Analysis/Images_skimage/**/distance* -type f | xargs rm</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 四則演算</span></div><div><span style="font-size: 10pt;">$(( 10 + 2 )) # 足し算</span></div><div><span style="font-size: 10pt;">$(( 10 - 2 )) # 引き算</span></div><div><span style="font-size: 10pt;">$(( 10 * 2 )) # 掛け算</span></div><div><span style="font-size: 10pt;">$(( 10 / 2 )) # 割り算</span></div><div><span style="font-size: 10pt;">lr_step=`expr $epoch / 2`# 変数の割り算</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 連続値のfor</span></div><div><span style="font-size: 10pt;">for i in `seq 1 9`; do</span></div><div><span style="font-size: 10pt;">    echo $i #1から9まで表示</span></div><div><span style="font-size: 10pt;">done</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 値を直接指定してfor</span></div><div><span style="font-size: 10pt;">for j in 400 1000 2000; do</span></div><div><span style="font-size: 10pt;">    echo $j</span></div><div><span style="font-size: 10pt;">done</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># シェルスクリプトの引数</span></div><div><span style="font-size: 10pt;">$ ./tmp.sh aaa bbb ccc # シェルスクリプト内では $1がaaa $2がbbb $3がccc</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># シェルスクリプト内の関数の引数</span></div><div><span style="font-size: 10pt;">say_hello_people () {</span></div><div><span style="font-size: 10pt;">    echo &quot;Hello, $1 and $2!&quot;</span></div><div><span style="font-size: 10pt;">}</span></div><div><span style="font-size: 10pt;">say_hello_people taro hanako;</span></div><div><br/></div><div><span style="font-weight: bold;"># nohupでgrepして標準出力もtmp.logに書き出す（nohup.outは出さないようにする）</span></div><div>$ nohup grep -r system /etc &amp;&gt; tmp.log</div><div><br/></div><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;"># nohupで</span><span style="font-size: 10pt; font-weight: bold;">sshログアウト後もシェルスクリプトを動かす</span></font></div><div><span style="font-size: 10pt;">$ nohup ./batch.sh &amp;</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># シェルスクリプト内の関数をnohupで実行する方法</span><span style="font-size: 10pt;"> </span> <a href="https://codeday.me/jp/qa/20191002/1653680.html" style="font-size: 10pt;">https://codeday.me/jp/qa/20191002/1653680.html</a></div><div><span style="font-size: 10pt;">func() {</span></div><div><span style="font-size: 10pt;">    echo func_$1</span></div><div><span style="font-size: 10pt;">}</span></div><div><span style="font-size: 10pt;">background() {</span></div><div><span style="font-size: 10pt;">    func $1;</span></div><div><span style="font-size: 10pt;">}</span></div><div><span style="font-size: 10pt;">export -f func</span></div><div><span style="font-size: 10pt;">export -f background</span></div><div><span style="font-size: 10pt;">nohup bash -c 'background 1' &amp;</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># インクリメント</span></div><div><span style="font-size: 10pt;">count=1</span></div><div><span style="font-size: 10pt;">count=$((++count))    # =&gt; 2</span></div><div><span style="font-size: 10pt;">count=$((count++))    # =&gt; 2</span></div><div><span style="font-size: 10pt;">count=$((count += 1)) # =&gt; 3</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 変数置換</span></div><div><span style="font-size: 10pt;">${h_size//&quot; &quot;/&quot;-&quot;} # 変数h_sizeの半角スペースを「-」で置換</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># シンボリックリンク作成</span></div><div><span style="font-size: 10pt;">ln -s /home/tmp/orig orig-link # 第一引数にリンク元,第二引数に作成するリンクを指定</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># シンボリックリンク削除.</span> <span style="font-size: 10pt; color: rgb(255, 0, 0); font-weight: bold;">絶対にリンクディレクトリの最後に「/」付けないこと（「</span><span style="color: rgb(255, 0, 0); font-weight: bold;">unlink orig-link/</span><font style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(255, 0, 0); font-weight: bold;">」とするとリンク元のディレクトリも削除される）</span></font></div><div><span style="font-size: 10pt;">unlink orig-link</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># wget(file DL)</span></div><div><span style="font-size: 10pt;">$ wget -nv -c -P ./ ${PFAMPASS_DATABASE}/pfamA.txt.gz</span></div><div><span style="font-size: 10pt;">-nv, –no-verbose 冗長ではなくする</span></div><div><span style="font-size: 10pt;">-c, –continue 部分的にダウンロードしたファイルの続きから始める</span></div><div><span style="font-size: 10pt;">-P, –directory-prefix=PREFIX ファイルを PREFIX/ 以下に保存する</span></div><div><br/></div><div><span style="font-size: 10pt;">遅いときはIPv4のみ接続でしてみる</span></div><div><span style="font-size: 10pt;">$ wget -4 -nv -c -P ./ ${PFAMPASS_DATABASE}/pfamA.txt.gz</span></div><div><span style="font-size: 10pt;">-4 --inet4-only IPv4 だけを使う</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 利用ポート確認</span></div><div><span style="font-size: 10pt;">$ lsof -i</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># ypc*** の使用者確認</span></div><div><span style="font-size: 10pt;">[tmp10014@xceed03 ~]$ finger ypc09643</span></div><div><br/></div><div><span style="font-weight: bold;"># 文字列split</span></div><div>tsv='aaa.sss.vvv'</div><div>name=($(basename ${tsv} | tr '.' ' '))</div><div>echo ${name[1]}# sss</div><div><br/></div><div><span style="font-weight: bold;"># ifで正規表現使うには[[]]で囲まないとできない</span></div><div>if [[ ${tsv} == *&quot;IC50&quot;* ]]; then</div><div>  echo IC50:${tsv}</div><div>if</div><div><br/></div><div><span style="font-weight: bold;"># シェルスクリプトの「;」はコマンド1が終了したらコマンド2を実行する（実行結果に関わらず）</span></div><div>コマンド1 ;</div><div>コマンド2</div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">## 正規表現 ##</span></div><div><br/></div><div><span style="font-weight: bold;"># 最初に1〜9が1つある</span></div><div>^[1-9]</div><div><br/></div><div><span style="font-weight: bold;"># 0〜9が0個以上ある</span></div><div>[0-9]*</div><div><br/></div><div><span style="font-weight: bold;"># 上記組み合わせ。$は文末のこと</span></div><div>^[1-9][0-9]*$</div><div><br/></div><div><span style="font-weight: bold;"># 大正または昭和または平成または令和。^と$で挟んであるので「含む」ではなく「完全一致」</span></div><div>^(大正|昭和|平成|令和)$</div><div><br/></div><div><span style="font-weight: bold;"># 否定先読み。無職から始まり後ろにやめ太郎が続くのはNG</span></div><div>^無職(?!やめ太郎)</div><div><br/></div><div><span style="font-weight: bold;"># 上記組み合わせ。1stまたは2ndまたは3rdのパターン。または4〜9の後ろにthがつくパターン。^()$に入れて完全一致</span></div><div>^(1st|2nd|3rd|[4-9]th)$</div><div><br/></div><div><br/></div><div><hr/></div><div><font style="font-size: 10pt;"><span style="font-size: 10pt; font-weight: bold;">Linuxの本より</span></font></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#--- 1章 基本---</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># \ 改行コード無視（１つのコマンド複数行にまたぎたい場合）</span></div><div><span style="font-size: 10pt;">$ echo Hello \</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ワイルドカード</span></div><ul><li><div><span style="font-size: 10pt;">* #文字全部</span></div></li><li><div><span style="font-size: 10pt;">? #１文字</span></div></li><li><div><span style="font-size: 10pt;">[ ] []には含まれる文字どれか一つ</span></div></li><li><div><span style="font-size: 10pt;">[! ] #[]に含まれない文字</span></div></li></ul><div><span style="font-size: 10pt;">     例：</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt;">$ [a-z]* #a-zの文字のどれかで始まる</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt;">$ [-a-z]* #-かa-zの文字のどれかで始まる</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt;">$ [a-zA-Z]* #アルファベットの小文字か大文字で始まる</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt;">$ *[0-9]*  #数字が含まれてるもの</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt;">$ [!0-9]* #数字では始まらないもの</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt;">$ ?? #二文字のもの</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt;">$ ??* #二文字以上のもの</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ls で表示されない隠しファイル（.で始まるファイルのこと）表示</span></div><div><span style="font-size: 10pt;">$ * #.で始まるファイル以外表示</span></div><div><span style="font-size: 10pt;">$ .* #.で始まるファイルも表示</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># \:１文字クォート</span></div><div><span style="font-size: 10pt;">$ echo abc \\def</span></div><div><span style="font-size: 10pt;">abc\def</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># シングルクォート（' '）は$変数をそのまま出したいとき使う</span></div><div><span style="font-size: 10pt;"># $,\,&quot; をそのまま使うとき</span></div><div><span style="font-size: 10pt;">$ echo '&quot;\$abc&quot;'</span></div><div><span style="font-size: 10pt;">&quot;\$abc&quot;</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ダブルクォーテーション（&quot; &quot;）は変数やコマンド置換した結果使いたいとき</span></div><div><span style="font-size: 10pt;"># $,\,&quot;はエスケープされない</span></div><div><span style="font-size: 10pt;">$ FILE=foobar</span></div><div><span style="font-size: 10pt;">$ echo &quot;Cannot remove ${FILE}&quot;</span></div><div><span style="font-size: 10pt;">Cannot remove foobar</span></div><div><span style="font-size: 10pt;">$ echo &quot;*&quot;</span></div><div><span style="font-size: 10pt;">*</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># バッククォート（` `）はその中に書かれたコマンド実行</span></div><div><span style="font-size: 10pt;">$ STRING=`echo &quot;abc \'echo def' ghi&quot;`</span></div><div><span style="font-size: 10pt;">$ echo $STRING</span></div><div><span style="font-size: 10pt;">abc def ghi</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ；コマンドセパレータ</span></div><div><span style="font-size: 10pt;">$ cat file1; cat file2</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># || OR演算子</span></div><div><span style="font-size: 10pt;"># file.datうまく消せなかったらコメント表示</span></div><div><span style="font-size: 10pt;">$ rm file.dat || echo &quot;ERROR remove file.dat&quot;</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># &amp;&amp; AND演算子</span></div><div><span style="font-size: 10pt;"># ディレクトリ作成したら、ファイルコピー</span></div><div><span style="font-size: 10pt;">$ mkdir dir &amp;&amp; cp file.dat dir</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#--- 2,3章 シェル変数、シェル関数 ---</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 中括弧{}はシェル変数だという明示</span></div><div><span style="font-size: 10pt;">$ echo FOO=aaa</span></div><div><span style="font-size: 10pt;">$ echo $FOOabc</span></div><div><span style="font-size: 10pt;">aaaabc</span></div><div><span style="font-size: 10pt;">$ echo ${FOO}abc</span></div><div><span style="font-size: 10pt;">aaaabc</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># := # 変数がnullの場合値代入</span></div><div><span style="font-size: 10pt;">$ ABC=&quot;&quot;</span></div><div><span style="font-size: 10pt;">$ echo ${ABC=123}</span></div><div><span style="font-size: 10pt;">$</span></div><div><span style="font-size: 10pt;">$ echo ${ABC:=123}</span></div><div><span style="font-size: 10pt;">123</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 位置パラメタ（シェルスクリプトの引数）は10個まで</span></div><div><span style="font-size: 10pt;">$ echo $0 $1 $2</span></div><div><span style="font-size: 10pt;">$ ./script.sh a b c d e f g h i j k l m n</span></div><div><span style="font-size: 10pt;">→ $0 は ./script.sh が来る</span></div><div><span style="font-size: 10pt;">$ echo &quot;$@&quot;          # $@ ：引数全部。引数すべて取り込み、1個1個ダブルクォートで囲った状態で取り込む</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 書き込み禁止の特殊変数</span></div><ul><li><div><span style="font-size: 10pt;"> $?（コマンド実行時の終了ステータス）</span></div></li><li><div><span style="font-size: 10pt;"> $$（プロセスID）</span></div></li><li><div><span style="font-size: 10pt;"> $!（バックグラウンドで走ってるプロセスID）</span></div></li><li><div><span style="font-size: 10pt;"> $-（シェル起動時のフラグなど）</span></div></li></ul><div><br clear="none"/></div><div><span style="font-size: 10pt;"># プロセスIDからファイル名ユニークな一時ファイル作成</span></div><div><span style="font-size: 10pt;">$ touch /tmp/tmp.$$</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 同名変数は別関数でも引き継がれる。変数名は一意にすること。</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># : コマンド  何もしないが必ず真を返すコマンド</span></div><div><span style="font-size: 10pt;">例1 無限ループ</span></div><div><span style="font-size: 10pt;">while :</span></div><div><span style="font-size: 10pt;">do </span></div><div><span style="font-size: 10pt;">     if </span></div><div><span style="font-size: 10pt;">     then</span></div><div><span style="font-size: 10pt;">          :</span></div><div><span style="font-size: 10pt;">     else</span></div><div><span style="font-size: 10pt;">     then</span></div><div><span style="font-size: 10pt;">          break</span></div><div><span style="font-size: 10pt;">     fi</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">例2 ファイルの中身消去</span></div><div><span style="font-size: 10pt;">$ : &gt; rm.dat</span></div><div><span style="font-size: 10pt;">($ cat /dev/null &gt; rm.dat と同じ)</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># eval 複数の変換処理実行</span></div><div><span style="font-size: 10pt;">$ VAR1=value</span></div><div><span style="font-size: 10pt;">$ VAR2=VAR1</span></div><div><span style="font-size: 10pt;">$ eval echo \$$VAR2</span></div><div><span style="font-size: 10pt;">value</span></div><div><span style="font-size: 10pt;">$ eval echo $&quot;$VAR2&quot;</span></div><div><span style="font-size: 10pt;">value</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># exitコマンド：シェル終了させる</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># --- 4章 リダイレクション ---</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># リダイレクション：入力元や出力元を変更すること</span></div><div><span style="font-size: 10pt;">$ echo asx &gt; ./tmp.txt</span></div><div><span style="font-size: 10pt;"># echo asa &gt;&gt; ./tmp.txt # 追記は&gt;&gt;</span></div><div><span style="font-size: 10pt;"># cat tmp1.txt tmp2.txt &gt; mer.txt 2&gt;&amp;1 # 標準出力、標準エラー出力同時に標準出力に表示させる（出力結果とエラー同時に見たい場合）</span></div><div><br/></div><div><span style="font-size: 10pt;"># 標準出力と標準エラー出力を一括出力</span></div><div><a href="https://qiita.com/r_plus/items/41fb31285fb64fb4be85" style="font-size: 10pt;">https://qiita.com/r_plus/items/41fb31285fb64fb4be85</a></div><div><span style="font-size: 10pt;">$ command &amp;&gt; file</span></div><div><span style="font-size: 10pt;">若しくは</span></div><div><span style="font-size: 10pt;">$ command &gt;&amp; file</span></div><div><span style="font-size: 10pt;">で以下と同じ効果となる</span></div><div><span style="font-size: 10pt;">$ command &gt; file 2&gt;&amp;1</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 標準入力をファイルから実行（リダイレクト）</span></div><div><span style="font-size: 10pt;">$ ls &lt; file.dat # ファイル名書いたfile.datをlsで表示</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ファイルからの読み込み ループ処理</span></div><div><span style="font-size: 10pt;">例１ file.dat 1行をLINEとうい変数に渡してループ処理</span></div><div><span style="font-size: 10pt;">while read LINE</span></div><div><span style="font-size: 10pt;">do</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">done &lt; file.dat</span></div><div><span style="font-size: 10pt;">↑もちろんネストも可能</span></div><div><span style="font-size: 10pt;">while read FILENAME</span></div><div><span style="font-size: 10pt;">do   </span></div><div><span style="font-size: 10pt;">     while read LINE</span></div><div><span style="font-size: 10pt;">     do</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">     done &lt; ${FILENAME}</span></div><div><span style="font-size: 10pt;">done &lt; file.dat</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># パイプでもループ可能</span></div><div><span style="font-size: 10pt;">cat file.txt | while read LINE</span></div><div><span style="font-size: 10pt;">do</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">＃for でファイルループ</span></div><div><span style="font-size: 10pt;">for LINE in `cat ./file.txt`</span></div><div><span style="font-size: 10pt;">do</span></div><div><span style="font-size: 10pt;">     echo ${LINE}</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># --- 5章 環境変数 ---</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># --- 6章 コマンド行の解析 ---</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># コマンドの -f -e とかのオプションの書き方</span></div><div><span style="font-size: 10pt;">sed -e -i </span></div><div><span style="font-size: 10pt;">sed -ei </span></div><div><span style="font-size: 10pt;">同じ結果</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># コマンド引数をループさせる</span></div><div><span style="font-size: 10pt;">$ script.sh a b c</span></div><div><span style="font-size: 10pt;">script.shの中身↓（個数の定まらない引数処理。引数をFILE変数に代入しループ）</span></div><div><span style="font-size: 10pt;">whlie [ $# -gt 0 ] </span></div><div><span style="font-size: 10pt;">do </span></div><div><span style="font-size: 10pt;">     FILE=#1</span></div><div><span style="font-size: 10pt;">     shift # 位置パラメタ（引数）減らす</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">done</span></div><div><span style="font-size: 10pt;">もしくは</span></div><div><span style="font-size: 10pt;">for FILE</span></div><div><span style="font-size: 10pt;">do </span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># --- 7章 フィルタ ---</span></div><div><span style="font-size: 10pt;"># 以下同じこと</span></div><div><span style="font-size: 10pt;">$ sed -e &quot;s/abc/adf/g&quot; file.txt &gt; sed.txt</span></div><div><span style="font-size: 10pt;">$ sed -e &quot;s/abc/adf/g&quot; &lt; file.txt &gt; sed.txt</span></div><div><span style="font-size: 10pt;">$ cat file.txt | sed -e &quot;s/abc/adf/g&quot; &gt; sed.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># sed でfile.txt の2行目だけ出力</span></div><div><span style="font-size: 10pt;">$ sed -n '2p' &lt; file.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># sed /含む場合</span></div><div><span style="font-size: 10pt;">$ sed -e &quot;s/ab\/ef/AB-EF/g&quot; tmp.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># sed のデリミタ（区切りの/）はどんな文字でも可能</span></div><div><span style="font-size: 10pt;">$ sed -e &quot;s%sss%${TMP}%g&quot; tmp.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># sed 例</span></div><div><span style="font-size: 10pt;">$ sed -e &quot;s/e....../ABC/&quot; file.txt           # eから６文字をABCに置換</span></div><div><span style="font-size: 10pt;">$ sed -e &quot;s/(.*)/()/g&quot; file.txt                # 括弧の文字削除</span></div><div><span style="font-size: 10pt;">$ sed -e &quot;s/.*(\(.*\)).*/\1/&quot;file.txt     # 最初の括弧に囲まれた取り出す</span></div><div><span style="font-size: 10pt;">$ sed -e 's/\t/ /g' file.txt                       # タブをスペースに変換</span></div><div><span style="font-size: 10pt;">$ sed -e 's/  */ /g' file.txt                      # 複数スペースを1個のスペースに変換</span></div><div><span style="font-size: 10pt;">$ sed -e 's/[ \t][ \t]*/ /g' file.txt          # タブかスペースを1個のスペースに変換</span></div><div><span style="font-size: 10pt;">$ sed -e 's/^[ \t]*//' file.txt                  # 行頭のタブかスペースを全削除</span></div><div><span style="font-size: 10pt;">$ sed -e &quot;s/[ \t]*\$//&quot; file.txt               # 行末のタブかスペースを全削除（&quot;&quot;使用した場合）</span></div><div><span style="font-size: 10pt;">$ sed -e &quot;/${TXT}/d&quot; file.txt                 # TXTの文字持つ行削除</span></div><div><span style="font-size: 10pt;">$ sed -e '/^$/d' file.txt                           # 何も書かれてない行削除</span></div><div><span style="font-size: 10pt;">$ sed -e '/[ \t]*$/d' file.txt                    # スペースタブだけの行も含めた空白行削除</span></div><div><span style="font-size: 10pt;">$ sed -e '/^#/d' file.txt                           # コメント文（#始まりの文）削除</span></div><div><span style="font-size: 10pt;">$ sed -n '1p' file.txt                                 # 1行目表示</span></div><div><span style="font-size: 10pt;">$ sed -e '$d' file.txt                                 # 最終行削除</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 小文字に変換</span></div><div><span style="font-size: 10pt;">$ cat tmp.txt | tr '[A-Z]' '[a-z]' &gt; lower.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 大文字に変換</span></div><div><span style="font-size: 10pt;">$ cat tmp.txt | tr '[a-z]' '[A-Z]' &gt; upper.txt</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># --- 8章 シェルの機能 ---</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># expr 整数の計算</span></div><div><span style="font-size: 10pt;">$ expr 12 '*' 6</span></div><div><span style="font-size: 10pt;">$ VALUE=12</span></div><div><span style="font-size: 10pt;">$ VALUE='expr ${VALUE} +1'</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 数値かどうかの判定</span></div><div><span style="font-size: 10pt;">expr &quot;${NUMBER} + 1 &gt; /dev/null 2&gt;&amp;1&quot;</span></div><div><span style="font-size: 10pt;">if [ $? -lt 2 ]; then</span></div><div><span style="font-size: 10pt;">     echo &quot;NUMERIC&quot;</span></div><div><span style="font-size: 10pt;">else</span></div><div><span style="font-size: 10pt;">     echo &quot;NOT NUMERIC&quot;</span></div><div><span style="font-size: 10pt;">fi</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 文字列の長さ</span></div><div><span style="font-size: 10pt;">$ STRING=adas</span></div><div><span style="font-size: 10pt;">$ NUMCHR=`expr &quot;${STRING}&quot; : '.*'`</span></div><div><span style="font-size: 10pt;">$ echo ${NUMCHAR}</span></div><div><span style="font-size: 10pt;">4</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># *や:文字も考慮した文字列の長さ</span></div><div><span style="font-size: 10pt;">NUMCHR=`case &quot;${STRING}&quot; in</span></div><div><span style="font-size: 10pt;">                         ? ) echo 1 ;;</span></div><div><span style="font-size: 10pt;">                         * ) expr &quot;${STRING}&quot; : '.*' ;;</span></div><div><span style="font-size: 10pt;">                     esac`</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 端末画面のクリア</span></div><div><span style="font-size: 10pt;">$ clear</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ファイル名、ディレクトリ名のみ取り出す</span></div><div><span style="font-size: 10pt;">$ basename /etc/hosts</span></div><div><span style="font-size: 10pt;">hosts</span></div><div><span style="font-size: 10pt;">$ dirname /etc/tmp/tmp2</span></div><div><span style="font-size: 10pt;">/etc/tmp</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># /区切りの構成要素取得</span></div><div><span style="font-size: 10pt;">IFS=/</span></div><div><span style="font-size: 10pt;">for f in ../../usr/include</span></div><div><span style="font-size: 10pt;">do</span></div><div><span style="font-size: 10pt;">     echo ${f}</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 完全パス取得</span></div><div><span style="font-size: 10pt;">PATH_NAME=../etc/tmp/tmp2/tmp.txt</span></div><div><span style="font-size: 10pt;">cd `dirname ${PATH_NAME }`</span></div><div><span style="font-size: 10pt;">FULLNAME=`pwd`/`basename ${PATH_NAME}`</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># --- 9章 シェル関数の例 ---</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt; color: rgb(255, 0, 0);"># シェルスクリプトからシェルスクリプト呼び出す</span></div><div><span style="font-size: 10pt;">. ./script.sh # ドットコマンドで読み込ませる</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># --- 11章 デバッグ ---</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># シェルスクリプト実行</span></div><div><span style="font-size: 10pt;">$ ./script.sh</span></div><div><span style="font-size: 10pt;">$ sh .script.sh</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># デバッグオプション付けて実行</span></div><div><span style="font-size: 10pt;">$ sh -xv ./script.sh </span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># --- 13章 FAQ ---</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 再帰的にファイル名検索</span></div><div><span style="font-size: 10pt;">$ find ./dir -name &quot;file.*&quot; -print</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ある文字があるファイル検索</span></div><div><span style="font-size: 10pt;">$ find ./dir -type f -exec grep &quot;str*ng&quot; /dev/null {} \;</span></div><div><span style="font-size: 10pt;">or</span></div><div><span style="font-size: 10pt;">$ find ./dir -type -f -print | xargs -e grep &quot;str*ng&quot; /dev/null</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ファイル名の一部をまとめて変更</span></div><div><span style="font-size: 10pt;">$ rename xxx DDD ./*.txt</span></div><div><span style="font-size: 10pt;">$ rename .py &quot;&quot; ./data/*.dat</span></div><div><span style="font-size: 10pt;">↓のはだめだった</span></div><div><span style="font-size: 10pt;">OLD=xxx</span></div><div><span style="font-size: 10pt;">NEW=yyy</span></div><div><span style="font-size: 10pt;">for i in ${OLD}*</span></div><div><span style="font-size: 10pt;">do</span></div><div><span style="font-size: 10pt;">     SUFFIX=`expr $i : '${OLD}\(.*\)'`</span></div><div><span style="font-size: 10pt;">     mv ${OLD}${SUFFIX} ${NEW}${SUFFIX}</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">----------------------------------------------------------------------------</span></div><div><span style="font-size: 10pt;"># 特定文字で区切る &lt;</span><a href="https://ja.stackoverflow.com/questions/16785/linux%E3%81%AE%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%A7%E7%89%B9%E5%AE%9A%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E4%BB%A5%E5%89%8D%E3%81%AE%E6%96%87%E5%AD%97%E3%82%92%E5%8F%96%E5%BE%97-%E3%82%82%E3%81%97%E3%81%8F%E3%81%AF%E4%BB%A5%E9%99%8D%E3%81%AE%E6%96%87%E5%AD%97%E4%BB%A5%E9%99%8D%E3%82%92%E5%89%8A%E9%99%A4" shape="rect" style="font-size: 10pt;" target="_blank">https://ja.stackoverflow.com/questions/16785/linux%E3%81%AE%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%A7%E7%89%B9%E5%AE%9A%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E4%BB%A5%E5%89%8D%E3%81%AE%E6%96%87%E5%AD%97%E3%82%92%E5%8F%96%E5%BE%97-%E3%82%82%E3%81%97%E3%81%8F%E3%81%AF%E4%BB%A5%E9%99%8D%E3%81%AE%E6%96%87%E5%AD%97%E4%BB%A5%E9%99%8D%E3%82%92%E5%89%8A%E9%99%A</a><span style="font-size: 10pt;">&gt;</span></div><div><span style="font-size: 10pt;">$ echo 'BKL.TEST' | awk -F '.' '{print $1}'</span></div><div><span style="font-size: 10pt;">BKL</span></div><div><span style="font-size: 10pt;">$ echo 'BKL.TEST' | awk -F '.' '{print $1}'</span></div><div><span style="font-size: 10pt;">TEST</span></div><div><span style="font-size: 10pt;">$ TYPE=`echo $LINE | awk -F '.' '{print $1}'`</span></div><div><br clear="none"/></div><div># awkでフィールド(列)同士を連結させる方法</div><div># 1フィールド(列)目と2フィールド(列)目を連結させたい時には、$1 $2の順に列挙することで、連結した文字列として扱うことができます。</div><div>cat in.txt | awk '{print $1 &quot;@@@&quot; $2 &quot;@@@&quot; $3 &quot;@@@&quot; $4 &quot;\t&quot; $5}' | sort -k1 &gt; 004025-0012_join.txt</div><div><br/></div><div># awkで列入れ替え. 1列目と3列目を入れ替える. -Fオプションで区切り&quot;,&quot;を指定</div><div>cat in.txt | awk -F&quot;,&quot; '{print $3 &quot;,&quot; $2 &quot;,&quot; $1}'</div><div><br/></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Lucida Grande&quot;, &quot;Hiragino Kaku Gothic ProN&quot;, Meiryo, sans-serif;"># 標準出力に出力する文字列を変数に格納</span></span></div><div><font style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Lucida Grande&quot;, &quot;Hiragino Kaku Gothic ProN&quot;, Meiryo, sans-serif;">&lt;</span><a href="http://shellscript.sunone.me/variable.html#%E3%83%90%E3%83%83%E3%82%AF%E3%82%AF%E3%82%A9%E3%83%BC%E3%83%88%E3%81%AE%E4%BB%A3%E6%9B%BF%E6%A9%9F%E8%83%BD" shape="rect" style="font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Lucida Grande&quot;;" target="_blank">http://shellscript.sunone.me/variable.html#バッククォートの代替機能</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px; font-size: 10pt; color: rgb(51, 51, 51); font-family: &quot;Lucida Grande&quot;, &quot;Hiragino Kaku Gothic ProN&quot;, Meiryo, sans-serif;">&gt;</span></font></div><div><span style="font-size: 10pt;">$ var=$(expr $(expr $(date '+%Y') + $(date '+%m')) + $(date '+%d'))</span></div><div><span style="font-size: 10pt;">$ echo $var</span></div><div><span style="font-size: 10pt;">2041</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 変数連結</span></div><div><span style="font-size: 10pt;">$ tmp_1=fff</span></div><div><span style="font-size: 10pt;">$ tmp_2=aaa</span></div><div><span style="font-size: 10pt;">$ tmp_3=$tmp_1$tmp_2</span></div><div><span style="font-size: 10pt;">$ echo $tmp3</span></div><div><span style="font-size: 10pt;">fffaaa</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">&lt;</span><a href="https://vok.paburica.com/index.php?LinuxTips/%E5%86%8D%E5%B8%B0%E7%9A%84%E3%81%AB%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%86%85%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E6%A4%9C%E7%B4%A2%E3%81%97%E3%81%9F%E3%81%84" shape="rect" style="font-size: 10pt;" target="_blank">https://vok.paburica.com/index.php?LinuxTips%2F%E5%86%8D%E5%B8%B0%E7%9A%84%E3%81%AB%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%86%85%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E6%A4%9C%E7%B4%A2%E3%81%97%E3%81%9F%E3%81%84</a><span style="font-size: 10pt;">&gt;</span></div><div><span style="font-size: 10pt;"># -rで再帰的に検索(-i 大文字小文字区別なし、　-n 行数表示)</span></div><div><span style="font-size: 10pt;">grep -i -n -r [検索対象文字列] [検索パス]</span></div><div><span style="font-size: 10pt;"># grep -rだと絞り込みが出来ないので、検索パスの指定にfindを使ったパターン</span></div><div><span style="font-size: 10pt;">grep [検索対象文字列] `[findで検索対象パスを絞り込み]`</span></div><div><span style="font-size: 10pt;"># 例. カレント以下、拡張子がlogのファイルからsysstatという文字列を検索</span></div><div><span style="font-size: 10pt;">grep sysstat `find . -name '*.log'`</span></div></div><hr/><div><span style="font-size: 10pt;">&lt;</span><a href="http://itpro.nikkeibp.co.jp/article/COLUMN/20060227/230715/?rt=nocnt" shape="rect" style="font-size: 10pt;" target="_blank">http://itpro.nikkeibp.co.jp/article/COLUMN/20060227/230715/?rt=nocnt</a><span style="font-size: 10pt;">&gt;</span></div><div><span style="font-size: 10pt;">ディレクトリを取り除く</span></div><div><span style="font-size: 10pt;">$ basename /home/hoge/public.shtml/index.shtml</span></div><div><span style="font-size: 10pt;">index.shtml</span></div><div><span style="font-size: 10pt;">ディレクトリと拡張子を取り除く</span></div><div><span style="font-size: 10pt;">$ basename /home/hoge/public.shtml/index.shtml .shtml</span></div><div><span style="font-size: 10pt;">index</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">&lt;</span><a href="http://yut.hatenablog.com/entry/20120907/1346975281" shape="rect" style="font-size: 10pt;" target="_blank">http://yut.hatenablog.com/entry/20120907/1346975281</a><span style="font-size: 10pt;">&gt;</span></div><div><span style="font-size: 10pt; font-family: gotham, helvetica, arial, sans-serif;"># </span> <span style="font-size: 10pt; font-family: gotham, helvetica, arial, sans-serif;">AA.txt の１列と</span> <span style="font-size: 10pt; font-family: gotham, helvetica, arial, sans-serif;">BB.txtの2列目で行結合</span></div><div><span style="font-size: 10pt;">$ join -1 1 -2 2 AA.txt BB.txt</span></div><div><span style="font-size: 10pt;"># タブ区切りの場合は</span> <span style="font-size: 10pt; font-family: gotham, helvetica, arial, sans-serif;">-t $'\t'</span></div><div><span style="font-size: 10pt;">join -t $'\t' -1 1 -2 1 $RESMERGE $QVAL &gt; $RESMERGE'.qval'</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt; font-family: gotham, helvetica, arial, sans-serif;">&lt;https://orebibou.com/2015/11/linux%E3%81%AEzipunzip%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7%E8%A6%9A%E3%81%88%E3%81%A6%E3%81%8A%E3%81%8D%E3%81%9F%E3%81%84%E4%BD%BF%E3%81%84%E6%96%B911%E5%80%8B/&gt;</span></div><div><span style="font-size: 10pt;">zipファイルの解凍先を指定する</span></div><div><span style="letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"><span style="background-color: rgb(255, 255, 255);"><span style="background-color: rgb(255, 255, 255); font-size: 10pt; color: rgb(0, 0, 0); font-family: Monaco, Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: normal;">unzip 解凍するZIPファイルPATH -d 解凍先PATH</span></span></span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">&lt;</span><a href="https://qiita.com/JhonnyBravo/items/8c714f4b9cb646b8b231" shape="rect" style="font-size: 10pt;" target="_blank">https://qiita.com/JhonnyBravo/items/8c714f4b9cb646b8b231</a><span style="font-size: 10pt;">&gt;</span></div><div><span style="font-size: 10pt;">プロンプトを表示せずにファイルを上書きする。</span></div><div><span style="font-size: 10pt;">unzip -o</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">diffコマンド</span></div><div><span style="font-size: 10pt;"># ディレクトリ再帰的に比較</span></div><div><span style="font-size: 10pt;">diff -r </span></div><div><span style="font-size: 10pt;">diff -r /gpfsx01/home/tmp10014/Array/Agilent/H3-018/Analysis/Agilent/ /gpfsx01/home/tmp10014/Array/Agilent/H3-018/work/Analysis_20171013_split2/Agilent/</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 引き算</span></div><div><span style="font-size: 10pt;">&lt;</span><a href="https://orebibou.com/2016/06/bash%E3%81%A7%E5%9B%9B%E5%89%87%E6%BC%94%E7%AE%97-x%C3%B7%E3%82%84%E5%89%B2%E3%82%8A%E7%AE%97%E3%81%AE%E3%81%82%E3%81%BE%E3%82%8A%E5%89%B0%E4%BD%99%E3%82%92%E6%B1%82%E3%82%81%E3%82%8B/" shape="rect" style="font-size: 10pt;" target="_blank">https://orebibou.com/2016/06/bash%E3%81%A7%E5%9B%9B%E5%89%87%E6%BC%94%E7%AE%97-x%C3%B7%E3%82%84%E5%89%B2%E3%82%8A%E7%AE%97%E3%81%AE%E3%81%82%E3%81%BE%E3%82%8A%E5%89%B0%E4%BD%99%E3%82%92%E6%B1%82%E3%82%81%E3%82%8B/</a><span style="font-size: 10pt;">&gt;</span></div><div><span style="font-size: 10pt;">max_file_num=`ls -1 | wc -l`</span></div><div><span style="font-size: 10pt;">max_file_num_minus=`expr $(( ${max_file_num}-1))`</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># lessでの表示折り返さない（-Sオプション）</span></div><div><span style="font-size: 10pt;">less -S ./access-log-BKL-web01.log</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ディレクトリ内のファイルを繰り返す</span></div><div><a href="http://fukuchiharuki.me/wiki/index.php?%E3%82%B7%E3%82%A7%E3%83%AB/%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E5%86%85%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99" style="font-size: 10pt;">http://fukuchiharuki.me/wiki/index.php?%E3%82%B7%E3%82%A7%E3%83%AB/%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E5%86%85%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99</a></div><div><span style="font-size: 10pt;">FILES=/path/to/files/*.txt</span></div><div><span style="font-size: 10pt;">for FILE in $FILES</span></div><div><span style="font-size: 10pt;">do</span></div><div><span style="font-size: 10pt;">  echo $FILE</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">## 文字コード変換コマンド nkf</span></div><div><span style="font-size: 10pt;">http://takuya-1st.hatenablog.jp/entry/20100511/1273585953</span></div><div><span style="font-size: 10pt;"># 文字コードチェック</span></div><div><span style="font-size: 10pt;">nkf -g readme.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#UTF8に変換</span></div><div><span style="font-size: 10pt;">nkf -w --overwrite readme.txt</span></div><div><span style="font-size: 10pt;">nkf -g readme.txt #結果を確認</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#Shift-JIS(cp932)に文字コード変換</span></div><div><span style="font-size: 10pt;">nkf -s --overwrite readme.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 文字コード・改行を変換 →UTF-8/unix形式(LF)に変換</span></div><div><span style="font-size: 10pt;">nkf -w -Lu --overwrite *.html # *.htmlでまとめて変換</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 文字コード→SJIS、改行→windows(CRLF)に変換</span></div><div><span style="font-size: 10pt;">nkf -s -Lw --overwrite *.html</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># findを使って再帰的なgrep</span></div><div><span style="font-size: 10pt;">find ./ -name '*model*'</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 配列の全要素をループで取得する https://reiki4040.hatenablog.com/entry/20110208/1297171057</span></div><div><span style="font-size: 10pt;">ARRAY=(aaa bbb ccc)</span></div><div><span style="font-size: 10pt;">echo ${ARRAY[@]}</span></div><div><span style="font-size: 10pt;">#aaa bbb ccc</span></div><div><span style="font-size: 10pt;">for item in ${ARRAY[@]}; do</span></div><div><span style="font-size: 10pt;">echo $item</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># bashでユニークなレコードカウント</span></div><div><span style="font-size: 10pt;">cat ./hist_test_data.txt</span></div><div><span style="font-size: 10pt;">app 201804 1</span></div><div><span style="font-size: 10pt;">radio 201804 5</span></div><div><span style="font-size: 10pt;">money 201805 6</span></div><div><span style="font-size: 10pt;">app 201805 54</span></div><div><span style="font-size: 10pt;">fund 201805 24</span></div><div><span style="font-size: 10pt;">radio</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">cat ./hist_test_data.txt | cut -f1 | sort | uniq -c</span></div><div><span style="font-size: 10pt;">1 app 201804 1</span></div><div><span style="font-size: 10pt;">1 app 201805 54</span></div><div><span style="font-size: 10pt;">1 fund 201805 24</span></div><div><span style="font-size: 10pt;">1 money 201805 6</span></div><div><span style="font-size: 10pt;">1 radio</span></div><div><span style="font-size: 10pt;">1 radio 201804 5</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">cat ./hist_test_data.txt | sort | uniq -c</span></div><div><span style="font-size: 10pt;">2 app</span></div><div><span style="font-size: 10pt;">1 fund</span></div><div><span style="font-size: 10pt;">1 money</span></div><div><span style="font-size: 10pt;">2 radio</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><hr/><div><span style="font-size: 10pt; font-weight: bold;">for</span></div></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">http://wordpress.honobono-life.info/code/bash%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%A7%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E5%86%85%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%B8%80%E8%A6%A7%E3%81%A8/</span></div><div><span style="font-size: 10pt;"># ファイル一覧を取得</span></div><div><span style="font-size: 10pt;">　</span></div><div><span style="font-size: 10pt;">“/home/user/”というディレクトリ配下のファイル一覧を表示する例です。</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">files=&quot;/home/user/*&quot;</span></div><div><span style="font-size: 10pt;">for filepath in $files; do</span></div><div><span style="font-size: 10pt;">echo $filepath</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt; font-weight: bold;"># 配列のループ</span></div><div><span style="font-size: 10pt;">PWDDIR=`pwd`</span></div><div><span style="font-size: 10pt;">WORKDIR_ARRAY[0]=${PWDDIR}/Agilent</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">for((i=0; i&lt;${#WORKDIR_ARRAY[*]}; i++))</span></div><div><span style="font-size: 10pt;">{</span></div><div><span style="font-size: 10pt;">WORKDIR=${WORKDIR_ARRAY[i]}</span></div><div><span style="font-size: 10pt;">cd ${WORKDIR}/OrigData/RawData</span></div><div><span style="font-size: 10pt;">cp ${ORIGDATADIR}/*.txt ./</span></div><div><span style="font-size: 10pt;">rename 'US11030397_' '' *.txt</span></div><div><span style="font-size: 10pt;">rename 'S01_GE1_107_Sep09_' '' *.txt</span></div><div><span style="font-size: 10pt;">}</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt; font-weight: bold;"># 三重ループ</span></div><div><span style="font-size: 10pt;">for h_size in 800 1200 1600 2000 &quot;1200 1200&quot; &quot;1600 1600&quot;; do</span></div><div><span style="font-size: 10pt;">  for d_out in 0.4 0.5 0.6; do</span></div><div><span style="font-size: 10pt;">    for epoch in 20 40; do</span></div><div><span style="font-size: 10pt;">      lr_step=`expr $epoch / 2`</span></div><div><span style="font-size: 10pt;">      echo $h_size $d_out $epoch $lr_step</span></div><div><span style="font-size: 10pt;">    done</span></div><div><span style="font-size: 10pt;">  done</span></div><div><span style="font-size: 10pt;">done</span></div><div><br/></div><div><hr/></div><div><span style="font-size: 10pt; font-weight: bold;">sed.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#### マイクロアレイ ####</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ファイル名 *&lt;数値&gt;.dat⇒*0&lt;数値&gt;.dat のようにファイル名をゼロパディングする</span></div><div><span style="font-size: 10pt;">for F in `ls *.dat`</span></div><div><span style="font-size: 10pt;">do</span></div><div><span style="font-size: 10pt;">NUMBER=`echo $F | sed -e 's/^161012_Chip//' -e 's/\.dat$//;'`</span></div><div><span style="font-size: 10pt;">NEWF=`printf &quot;161012_Chip%02d.dat&quot; $NUMBER`</span></div><div><span style="font-size: 10pt;">[ $F != $NEWF ] &amp;&amp; mv $F $NEWF</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 1 行目を消す。</span></div><div><span style="font-size: 10pt;">sed -e '1d' /etc/hosts</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ファイルを編集して上書きする -i オプション</span></div><div><span style="font-size: 10pt;">sed -i ... ファイル</span></div><div><span style="font-size: 10pt;">例　sed -i -e '15d' /Users/takuya/.ssh/known_hosts</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ファイル名の空白を_で置換</span></div><div><span style="font-size: 10pt;">for FILE in *; do mv &quot;$FILE&quot; ${FILE/ /_}; done</span></div><div><span style="font-size: 10pt;">↑これならいけた</span></div><div><span style="font-size: 10pt;">find . -name &quot;* *&quot; | rename 's/ /_/g'</span></div><div><span style="font-size: 10pt;">↑のもできない・・↓のはできなかった</span></div><div><span style="font-size: 10pt;">find . -name &quot;* *&quot; | sed 'p;s/ /_/g' | xargs -n2 mv</span></div><div><span style="font-size: 10pt;">find ./ -type f | sed 'p;s/ /_/g' | xargs -n2 mv</span></div><div><span style="font-size: 10pt;">rename .html .htm *.html</span></div><div><span style="font-size: 10pt;">find &lt;ディレクトリ&gt; &quot;&lt;検索文字列&gt;&quot; | sed -e 's/&lt;正規表現&gt;/mv &lt;後方参照&gt;&lt;置換文字列&gt;&lt;後方参照&gt;/g' | sh</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># カンマをタブ置換</span></div><div><span style="font-size: 10pt;">sed -e s/,/\\t/g ファイル名</span></div><div><span style="font-size: 10pt;"># 複数の空白を一つのタブに変換</span></div><div><span style="font-size: 10pt;">sed 's/ */\t/g' infile &gt;outfile</span></div><div><span style="font-size: 10pt;"># 1つの空白を一つのタブに変換</span></div><div><span style="font-size: 10pt;">sed 's/ /\t/g' infile &gt;outfile</span></div><div><span style="font-size: 10pt;"># 1つの空白を_に変換</span></div><div><span style="font-size: 10pt;">sed 's/ /_/g' infile &gt;outfile</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 2ファイル結合、特定の列をキーにして、複数のファイルを行単位でJOIN。下のコマンドはjoinするとタブが空白になるのでタブに戻してる</span></div><div><span style="font-size: 10pt;">join MergeData_grp0.avgfcpp MergeData_grp3.avgfcpp | sed 's/ /\t/g' &gt; 24h.tmp</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ファイル行数だけ取る</span></div><div><span style="font-size: 10pt;">anoRowCount=$(wc -l &lt; $SF100DIR/anno.merge)</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># N012_---.dat⇒---に置換</span></div><div><span style="font-size: 10pt;">sed -e 's/N[0-9][0-9][0-9]_//g' -e 's/\.dat//g' filename.txt &gt; samplelist.txt</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#sedは「+ ? { } ( ) | /」の文字自体を使いたいときはバックスラッシュ（\）でエスケープ</span></div><div><span style="font-size: 10pt;">sed 's/x\+/OK/g'</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 1行目にヘッダー追加</span></div><div><span style="font-size: 10pt;">sed -i -e &quot;1i samplename\tsampleinfo&quot; temp.txt</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># sed コマンドでタブを置換</span></div><div><span style="font-size: 10pt;">sed s/$'\t'//g</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 改行置換</span></div><div><span style="font-size: 10pt;"># Perlで改行を置換するワンライナー</span></div><div><span style="font-size: 10pt;">perl -pe 's/\n/ /g'</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># /etc/shellsの先頭に「LIST」という行、末尾に「END」という行を追加する</span></div><div><span style="font-size: 10pt;">cat /etc/shells | sed -e 1iLIST -e \$aEND</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#### TargetValidation ####</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 改行のみの行を削除</span></div><div><span style="font-size: 10pt;">sed -e 's/^$/@@@@/g' ./output/disease_id_count.csv &gt; ./output_sed/disease_id_count.csv</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#### BKL ####</span></div><div><span style="font-size: 10pt;"># 実行結果を変数に代入する</span></div><div><span style="font-size: 10pt;">## ２項の実行結果「12345」を変数に代入するには、sedの行全体をバッククォートで括り、それを変数に代入します。</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#!/bin/sh</span></div><div><span style="font-size: 10pt;">foo=&quot;00012345&quot;</span></div><div><span style="font-size: 10pt;">bar=`echo ${foo} | sed -e &quot;s/[0]*\(12345\)/\1/&quot;`</span></div><div><span style="font-size: 10pt;">echo ${bar}</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">## ファイルのフルパスからファイル名だけ取り出し変数に入れる</span></div><div><span style="font-size: 10pt;">for sqldir in `ls -1 ${INPUTDIR}/*sql`</span></div><div><span style="font-size: 10pt;">do</span></div><div><span style="font-size: 10pt;">echo ${sqldir}</span></div><div><span style="font-size: 10pt;">schema=`basename ${sqldir} | sed -e 's/_GetDDL\.sql//g'`</span></div><div><span style="font-size: 10pt;">echo ${schema}</span></div><div><span style="font-size: 10pt;">done</span></div><div><span style="font-size: 10pt;">}</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 複数の空白マージ</span></div><div><span style="font-size: 10pt;">sed -e 's/ */ /g'</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 複数のタブマージ</span></div><div><span style="font-size: 10pt;">sed -e 's/\t\t*/ /g'</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 連続するスペースまたはタブ文字を1つのスペースに全置換</span></div><div><span style="font-size: 10pt;">sed -E 's/[\t ]+/ /g'</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 連続してる空白をマージする()</span></div><div><span style="font-size: 10pt;">for i in `seq 1 10`</span></div><div><span style="font-size: 10pt;">do</span></div><div><span style="font-size: 10pt;">sed -i -e 's/ / /g' ${schema}._MV_SELECT</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 1番目に出現した を\tに（テーブル名とSQL文タブで分離させる）</span></div><div><span style="font-size: 10pt;">sed -i -e 's/ SELECT/\tSELECT/' ${schema}._MV_SELECT</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># unexpandの準備</span></div><div><span style="font-size: 10pt;">sed -i -e 's/ SELECT/ SELECT/g' ${schema}._MV_SELECT</span></div><div><span style="font-size: 10pt;"># 行頭のスペースのみをタブに変換</span></div><div><span style="font-size: 10pt;">unexpand -t 8 ${schema}._MV_SELECT &gt; ${schema}._MV_SELECT_UNEXP</span></div><div><span style="font-size: 10pt;">rm ${schema}._MV_SELECT</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># iを使用することにより英大文字小文字を区別ぜずに置換する</span></div><div><span style="font-size: 10pt;">echo 文字列 | sed -e &quot;s/置換前文字列/置換後の文字列/i&quot;</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># &quot;,'置換</span></div><div><span style="font-size: 10pt;">sed -i -e 's/.*MV\///g' -e 's/&quot;//g' -e &quot;s/'//g&quot; MV_BKL_exit.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 空行削除</span></div><div><span style="font-size: 10pt;">sed '/^$/d'</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 文字列の指定置換（先頭から8番目にマッチした「/」を「|」に置換（()でくくった(.{8})ら[置換後文字列]にて\1で参照できる）http://ni66ling.hatenadiary.jp/entry/20141227/1419661468</span></div><div><span style="font-size: 10pt;">sed -r 's@^(.{8})/@\1|@g' MEDGEN_DEF.bad &gt; tmp3</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">###### xmlファイル</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 最終行に挿入</span></div><div><span style="font-size: 10pt;">$ sed -e '$ a hoge' sources.list.bak</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># rootを含まない行を表示</span></div><div><span style="font-size: 10pt;">$ cat /var/log/syslog | sed -n '/root/!p'</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># -n オプションを追加してpフラグを付けると、マッチした行のみを出力する。</span></div><div><span style="font-size: 10pt;">sed -n '/metadata/p' ${EDITXML} | sed -e 's/^$//g' | sed -e 's/@/\n/g' | sed -e '1i &lt;table&gt;' | sed -e '$ a &lt;/table&gt;' &gt; ${EDITDIR}/ID_metadata.xml</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ファイルの改行のみの行を削除&lt;https://teratail.com/questions/47077&gt;</span></div><div><span style="font-size: 10pt;">sed '/^\r\?$/d' file</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ヘッダー（1行目）削除</span></div><div><span style="font-size: 10pt;">sed -e '1d' text.txt</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 6行目から15行目を出力</span></div><div><span style="font-size: 10pt;">sed -n -e 6,15p</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><hr/></div><div><span style="font-size: 10pt; font-weight: bold;">grep.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 拡張子がtxtのファイルからhogeを検索</span></div><div><span style="font-size: 10pt;">grep &quot;hoge&quot; *.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 検索文字列の行番号を表示する=grep &quot;検索文字列&quot; -n 検索ファイル名 | sed -e 's/:.//g'</span></div><div><span style="font-size: 10pt;">grep -n error test.log | cut -d &quot;:&quot; -f 1</span></div><div><span style="font-size: 10pt;">grep -n &quot;\!Sample_title = &quot; GSE58095_family.soft | cut -d &quot;:&quot; -f 1</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># grepでタブを検索する</span></div><div><span style="font-size: 10pt;">grep centos$'\t' tab_test_file.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 先頭がタブではじまる行を検索</span></div><div><span style="font-size: 10pt;">grep ^$'\t' tab_test_file.txt</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># サブディレクトリ内も含めたtxtファイルの中から”テスト”を含む行を表示する</span></div><div><span style="font-size: 10pt;">find . -type f -name &quot;*.txt&quot; | xargs grep &quot;テスト&quot;</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># サブディレクトリ配下のファイルをgrepする</span></div><div><span style="font-size: 10pt;">grep -r 検索文字列 ディレクトリ</span></div><div><span style="font-size: 10pt;">grep -r start /etc</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#ディレクトリ以下、全てのファイルを検索して、</span></div><div><span style="font-size: 10pt;">ファイルの一覧を出したいときは、こんな感じ。</span></div><div><span style="font-size: 10pt;">grep -ilr xxx ./</span></div><div><br clear="none"/></div><div># タブ(\t)を含む文字列を`grep`</div><div>grep $'\t'&quot;status:200&quot; test.log</div><div>grep -w &quot;F&quot;$'\t' test.log # grep -w $'\t'&quot;F&quot;$'\t' test.log はうまくいかない</div><div><br/></div><div><hr/></div><div><span style="font-size: 10pt; font-weight: bold;">if.txt</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">#### マイクロアレイ #####</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># コマンドif</span></div><div><span style="font-size: 10pt;">if 条件</span></div><div><span style="font-size: 10pt;">then ← ifとthenを１行で記述するときは;（セミコロン）で区切ります（if 条件 ; then）</span></div><div><span style="font-size: 10pt;">コマンドリスト ← 条件成立時に実行するコマンドを指定します</span></div><div><span style="font-size: 10pt;">else</span></div><div><span style="font-size: 10pt;">コマンドリスト ← 条件不成立時に実行するコマンドを指定します</span></div><div><span style="font-size: 10pt;">fi ← ifコマンドの最後を表します</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">例1</span></div><div><span style="font-size: 10pt;">anoRowCount=$(wc -l &lt; $SF100DIR/anno.merge)</span></div><div><span style="font-size: 10pt;">#echo $anoRowCount</span></div><div><span style="font-size: 10pt;">cd $ANADIR</span></div><div><span style="font-size: 10pt;">for i in `ls *.anamerge`</span></div><div><span style="font-size: 10pt;">do</span></div><div><span style="font-size: 10pt;">#echo $i</span></div><div><span style="font-size: 10pt;">rowCount=$(wc -l &lt; $i)</span></div><div><span style="font-size: 10pt;">#echo $rowCount</span></div><div><span style="font-size: 10pt;">if test $rowCount -ne $anoRowCount; then</span></div><div><span style="font-size: 10pt;">echo &quot;Error:Rowcount of do not match...&quot;</span></div><div><span style="font-size: 10pt;">echo ^ $i $rowCount</span></div><div><span style="font-size: 10pt;">echo ^ anno.merge $anoRowCount</span></div><div><span style="font-size: 10pt;">else</span></div><div><span style="font-size: 10pt;">echo $i &quot;:Rowcount OK&quot;</span></div><div><span style="font-size: 10pt;">fi</span></div><div><span style="font-size: 10pt;">done</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">例2</span></div><div><span style="font-size: 10pt;">if test 1 -ne 2; then</span></div><div><span style="font-size: 10pt;">echo &quot;if success&quot;</span></div><div><span style="font-size: 10pt;">else</span></div><div><span style="font-size: 10pt;">:</span></div><div><span style="font-size: 10pt;">fi</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 文字列が一致してるかどうかは「＝」。数値の場合は「-eq」</span></div><div><span style="font-size: 10pt;">schema='GEIS'</span></div><div><span style="font-size: 10pt;">if test ${schema} = 'GEIS' ; then</span></div><div><span style="font-size: 10pt;">pass=GEIS2</span></div><div><span style="font-size: 10pt;">else</span></div><div><span style="font-size: 10pt;">pass=${schema}</span></div><div><span style="font-size: 10pt;">fi</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># cp /lustre01/home/tmp10014/Array/Affy/env_script.R /lustre01/home/tmp10014/Array/Affy/Analysis/GSE10325</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># http://blog.eiel.info/blog/2012/11/25/match-partial-bash/</span></div><div><span style="font-size: 10pt;"># シェルスクリプトで部分一致を確認</span></div><div><span style="font-size: 10pt;">search_term=&quot;openssl&quot;</span></div><div><span style="font-size: 10pt;">target=&quot;openssl-1.0.0&quot;</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">if echo $target | grep &quot;$search_Term&quot; &gt; /dev/null; then</span></div><div><span style="font-size: 10pt;">echo &quot;goro&quot;</span></div><div><span style="font-size: 10pt;">fi</span></div><div><br clear="none"/></div><div><hr/></div><div><span style="font-size: 10pt;"># Linuxコンソール上でファイルの行と列を入れ替える &lt;https://orebibou.com/2016/06/linux%E3%82%B3%E3%83%B3%E3%82%BD%E3%83%BC%E3%83%AB%E4%B8%8A%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E8%A1%8C%E3%81%A8%E5%88%97%E3%82%92%E5%85%A5%E3%82%8C%E6%9B%BF%E3%81%88%E3%82%8B/&gt;</span></div><div><span style="font-size: 10pt;">cat ファイルPATH | perl -anF'\t|\n' -e'$n=@F-1if!$n;for(0..$n){push@{$$m[$_]},$F[$_]}''END{print map{join&quot;\t&quot;,@$_,&quot;\n&quot;}@$m}'</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><hr/></div><div><span style="font-size: 10pt; font-weight: bold;">rename.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 【rename】複数のファイル名を一括変更するコマンド</span></div><div><span style="font-size: 10pt;">$ rename 置換する文字列 置換後の文字列 ファイル名 ファイル名２ ...</span></div><div><span style="font-size: 10pt;">rename 2014 2015 2014-*.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">rename .py &quot;&quot; ./data/*.dat</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">どのファイルの名前を置換したのか知りたい場合は、「-v」オプションを付与しておくと良いだろう。</span></div><div><span style="font-size: 10pt;">rename -v 置換する単語 置換後の単語 対象PATH</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><hr/><div><span style="font-size: 10pt; font-weight: bold;">tar.txt</span></div></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># tar.gz</span></div><div><span style="font-size: 10pt;">圧縮</span></div><div><span style="font-size: 10pt;">tar -zcvf xxxx.tar.gz directory</span></div><div><span style="font-size: 10pt;">解凍</span></div><div><span style="font-size: 10pt;">tar -zxvf xxxx.tar.gz</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># tar</span></div><div><span style="font-size: 10pt;">圧縮</span></div><div><span style="font-size: 10pt;">tar -cvf xxxx.tar directory</span></div><div><span style="font-size: 10pt;">解凍</span></div><div><span style="font-size: 10pt;">tar -xvf xxxx.tar</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># zip</span></div><div><span style="font-size: 10pt;">圧縮</span></div><div><span style="font-size: 10pt;">zip -r xxxx.zip directory</span></div><div><span style="font-size: 10pt;">解凍</span></div><div><span style="font-size: 10pt;">unzip xxxx.zip</span></div><div>unzip hoge.zip -d foo # unzipでディレクトリを指定して解凍</div><div><br clear="none"/></div><div><hr/><div><span style="font-size: 10pt; font-weight: bold;">cut.txt</span></div></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">&lt;http://d.hatena.ne.jp/strkpy/20090711/1247315811&gt;</span></div><div><span style="font-size: 10pt;"># 1列目抽出</span></div><div><span style="font-size: 10pt;">cut -f1 tst.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 1列目,2列目抽出</span></div><div><span style="font-size: 10pt;">cut -f1,2 tst.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 1列目～10列目抽出</span></div><div><span style="font-size: 10pt;">cut -f1-10 tst.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 1列目,3～10列目抽出</span></div><div><span style="font-size: 10pt;">cut -f1,3-10 tst.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">区切り文字指定は-d</span></div><div><span style="font-size: 10pt;">$ cut -f 2 -d &quot;:&quot; cutdata.txt</span></div><div><br clear="none"/></div><div><hr/></div><div><span style="font-size: 10pt; font-weight: bold;">0埋め.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">https://orebibou.com/2016/06/bash%E3%81%A7%E3%82%BC%E3%83%AD%E5%9F%8B%E3%82%81%E3%82%92%E3%81%97%E3%81%A6%E6%A1%81%E5%90%88%E3%82%8F%E3%81%9B%E3%82%92%E3%81%95%E3%81%9B%E3%82%8B/</span></div><div><span style="font-size: 10pt;"># 10桁の数字をゼロ埋めして表示</span></div><div><span style="font-size: 10pt;">printf &quot;%010d\n&quot; 300</span></div><div><span style="font-size: 10pt;">0000000300</span></div><div style="margin-top: 1em;margin-bottom: 1em;-en-paragraph:true;"><div><br clear="none"/></div></div><div><span style="font-size: 10pt;">i=`printf %02d 1`</span></div><div><span style="font-size: 10pt;">echo i</span></div><div><span style="font-size: 10pt;">01</span></div><div><br clear="none"/></div><div><hr/><div><span style="font-size: 10pt; font-weight: bold;">否定.txt</span></div></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">https://amg-solution.jp/blog/5238</span></div><div><span style="font-size: 10pt;">指定文字列を含まない一行を検索【オススメ】</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">^(?!.*VALUE).+$</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">※VALUEを検索したい文字列にして下さい。</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">指定文字列（複数指定）を含まない一行を検索</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">^(?!.*(VALUE1|VALUE2)).+$</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">※VALUEを検索したい文字列にして下さい。</span></div><div><span style="font-size: 10pt;">条件を増やす場合は”|VALUE”を続けて指定して下さい。</span></div><div><br clear="none"/></div><div><hr/></div><div><span style="font-size: 10pt; font-weight: bold;">ファイル結合.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ファイル縦方向に結合(rbindと同じ)=cat</span></div><div><span style="font-size: 10pt;">cat tmp_samplelist1.txt tmp_samplelist2.txt &gt; samplelistlink.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># ディレクトリ内の全ファイルの結合方法</span></div><div><span style="font-size: 10pt;">cat target_dir/* &gt; mergefname</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 区切り文字tabでファイルを水平方向に連結する(cbindと同じ)=paste</span></div><div><span style="font-size: 10pt;">paste sample1.txt sample2.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;"># 区切り文字を「:」としてsample1.txtとsample2.txtを水平方向に連結する。</span></div><div><span style="font-size: 10pt;">paste -d&quot;:&quot; sample1 sample2</span></div><div><br clear="none"/></div><div><hr/></div><div><span style="font-size: 10pt; font-weight: bold;">su,sudoの違い.txt</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">https://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q11109766576</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">■ su …</span></div><div><span style="font-size: 10pt;">Switch User の略で、ユーザーを切り替えるコマンドです。</span></div><div><span style="font-size: 10pt;">実行例) $ su -</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">ユーザーを特に指定しなければ、root(管理者)に切り替えようとしますが、そのためにはrootのパスワードを入力する必要があります。</span></div><div><span style="font-size: 10pt;">ユーザーを切り替えるので、su後はexitやlogout(自動ログアウト含む)をしない限りはそのユーザー状態でいます。</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">■ sudo …</span></div><div><span style="font-size: 10pt;">Super User DO または Switch User DO の略で、ユーザーを切り替えた状態で その後に続けたコマンドを実行します。</span></div><div><span style="font-size: 10pt;">実行例) $ sudo cat /etc/shadow</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">Super User DO の略と書いた通り、通常はSuperUser(つまりroot権限)でコマンドを実行することになりますが、オプションで指定すればrootに限らず任意のユーザーとしてコマンドを実行させることが可能です</span></div><div><span style="font-size: 10pt;">実行例) $ sudo -u apache cat /etc/passwd</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">suのようにユーザーを切り替えるわけではなく、指定したコマンドに対してのみ都度権限が与えられることになります。当然、コマンド完了後の権限は自分自身のままです。（例外: sudo su - などすればrootにsuしちゃいます）</span></div><div><br clear="none"/></div><div><span style="font-size: 10pt;">suとは異なり、sudoの場合は必ずしもrootのパスワードは必要ではなく、設定次第でパスワードを求めることなくsudoを可能にすることも可能です。つまり、suによって管理者権限を与えるよりも柔軟な権限移譲が可能なので、昨今は管理者権限を要する作業をする場合、suではなくsudoを使うことをルールとしている現場も多いです。</span></div><div><br clear="none"/></div><div><br clear="none"/></div><hr/><div><span style="font-size: 10pt; font-weight: bold; text-decoration: underline;">■GridEngine</span></div><div><br/></div><div><a href="http://xceedsys/pukiwiki/?cmd=read&amp;page=GridEngine&amp;word=qstat" style="font-size: 10pt;">http://xceedsys/pukiwiki/?cmd=read&amp;page=GridEngine&amp;word=qstat</a></div><div><a href="http://xceedsys/pukiwiki/?%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%CA%B8%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD#tce0fa2f" style="font-size: 10pt;">http://xceedsys/pukiwiki/?%C5%EC%C2%E7%B0%E5%B2%CA%B8%A6%A5%B5%A1%BC%A5%D0#tce0fa2f</a></div><div><a href="http://xceedsys/pukiwiki/?UGE#c7c013cc" style="font-size: 10pt;">http://xceedsys/pukiwiki/?UGE#c7c013cc</a></div><div><a href="http://xceedsys/pukiwiki/?UGE#m60578f4" style="font-size: 10pt;">http://xceedsys/pukiwiki/?UGE#m60578f4</a></div><div><span style="font-size: 10pt;">に詳しく書いてる</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># qsub例</span></div><div><span style="font-size: 10pt;">qsub -cwd -b y -j y -A tmp04415</span></div><div><span style="font-size: 10pt;">-cwd:カレントディレクトリで実行</span></div><div><span style="font-size: 10pt;">-b y:バイナリファイルか？ｙならバイナリとして実行</span></div><div><span style="font-size: 10pt;">-j y:標準出力と標準エラー出力をマージさせる</span></div><div><span style="font-size: 10pt;">-A tmp04415:実行するアカウント(tmp04415)</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># infoq のノードにqlogin</span></div><div><span style="font-size: 10pt;">qlogin -q info.q</span></div><div><span style="font-size: 10pt;">qlogin -q info.q -l s_vmem=24G,mem_req=24  # メモリ増やしてqlogin</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># GPUサーバにqlogin</span></div><div><span style="font-size: 10pt;">qlogin -q gpgpu.q</span></div><div><span style="font-size: 10pt;">qlogin -q gpgpu.q -l s_vmem=24G,mem_req=24 # メモリ増やしてGPUサーバにqlogin</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># qsubで実行</span></div><div><span style="font-size: 10pt;">qsub -cwd tmp60518.sh # cwdでジョブをカレントディレクトリで実行</span></div><div><span style="font-size: 10pt;">qsub -cwd -b y -N yokoi -l s_vmem=16G,mem_req=16 hoge.sh　#  ジョブ名を「yokoi」にして+メモリ増やして実行</span></div><div><span style="font-size: 10pt;">qsub -cwd -o /home/bioinfo/sge/out -e /home/bioinfo/sge/err test.sh # ジョブをカレントディレクトリ上で実行し、指定のパスに標準出力と標準エラー出力を出力</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># キューの状態確認</span></div><div><span style="font-size: 10pt;">qstat # ログインしているキューの状態確認</span></div><div><span style="font-size: 10pt;">qstat -u &quot;*&quot; # 全ユーザーのジョブを表示する</span></div><div><span style="font-size: 10pt;">qhost # ノードの状態を見る</span></div><div><span style="font-size: 10pt;">qhost -q # ノードの状態と共にキューの状態を表示</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># jobで使ったメモリ量とか見るコマンド</span></div><div><span style="font-size: 10pt;">qstat -j 3033016（←job_id）</span></div><div><span style="font-size: 10pt;">qacct -j 3033016</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 100並列でjob実行(-tc 100 オプション)</span></div><div><span style="font-size: 10pt;">qsub -cwd -t 1 -tc 100 hoge.sh</span></div><div><span style="font-size: 10pt;">    例 tmp.sh を50並列で処理（job名: step2 にして実行）</span></div><div><span style="font-size: 10pt;">    qsub -cwd -b y -j y -N step2 -t 1 -tc 50 ./tmp.sh</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># qsubで次の処理終わるまで待つサンプルスクリプト</span></div><div><span style="font-size: 10pt;">/gpfsx01/home/aaa00162</span></div><div><span style="font-size: 10pt;">test_sh.sh</span></div><div><span style="font-size: 10pt;">例</span></div><div><span style="font-size: 10pt;"># -b y はスクリプトに引数を渡す (binary=yes)</span></div><div><span style="font-size: 10pt;"># -j y は標準エラー出力を標準出力にマージする (join=yes)</span></div><div><span style="font-size: 10pt;">qsub=&quot;qsub -cwd -b y -j y&quot;</span></div><div><span style="font-size: 10pt;"># step1 job実行</span></div><div><span style="font-size: 10pt;">${qsub} -N step1 sleep 10</span></div><div><span style="font-size: 10pt;"># -hold_jid オプションでstep1 job実行終わるまで実行待つ</span></div><div><span style="font-size: 10pt;">${qsub} -N step2 -hold_jid step1</span></div><div><br/></div><hr/><div><span style="font-size: 10pt; font-weight: bold; text-decoration: underline;">■Emacs</span></div><div><br/></div><div><span style="font-size: 10pt;">Emacsの終了 -- (C-x C-c)</span></div><div><span style="font-size: 10pt;">Emacsでファイル保存(上書き保存) -- (C-x C-s)</span></div><div><br/></div><hr/><div><span style="font-size: 10pt; font-weight: bold; text-decoration: underline;">■Vim</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># Vim / Vi を終了させる</span></div><div><span style="font-size: 10pt;">まずはエスケープキー【Esc】を押す</span></div><div><span style="font-size: 10pt;">→保存済みのファイルを開いているvimから抜ける場合</span></div><div><span style="font-size: 10pt;">:q</span></div><div><span style="font-size: 10pt;">→ファイルを保存しないでvimを抜ける場合</span></div><div><span style="font-size: 10pt;">:q!</span></div><div><span style="font-size: 10pt;">→ファイルを保存してからvimを抜ける場合</span></div><div><span style="font-size: 10pt;">:wq</span></div><div><br/></div><hr/><div><span style="font-size: 10pt; font-weight: bold; text-decoration: underline;">■サクラエディタ</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># ソート</span></div><div><span style="font-size: 10pt;">1. 範囲選択（ctl+a などで全体選択）</span></div><div><span style="font-size: 10pt;">2. alt+a（ソートコマンド）</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 同じ行マージ</span></div><div><span style="font-size: 10pt;">1. 範囲選択（ctl+a などで全体選択）</span></div><div><span style="font-size: 10pt;">2. alt+m（マージコマンド）</span></div><div><br/></div><hr/><div><span style="font-size: 10pt; font-weight: bold; text-decoration: underline;">■その他</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># ウィンドウ切替</span></div><div><span style="font-size: 10pt;">［Alt］キー + ［Tab］キー</span></div><div><br/></div><div><span style="font-size: 10pt; font-weight: bold;"># 半角全角切り替え</span></div><div><span style="font-size: 10pt;">Ctrl+shft</span></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 